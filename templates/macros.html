{% macro nav_list_items(items) %}
	{% if items %}
		<ul>
			{% for item in items %}
				<li><a href="{{ item.path }}">{{ item.name }}</a></li>
			{% endfor %}
		</ul>
	{% endif %}
{% endmacro %}

{% macro nav_list_items_recursive(items) %}
	{% if items %}
		<ul>
			{% for item in items %}
				{% set section = get_section(path=item.path~"/_index.md") %}
				<li
					{% if section.extra.color %}
						style="--color: {{ section.extra.color }}"
					{% else %}
						style="--color: #5E81AC"
					{% endif %}
				>
					<a href="{{ section.permalink }}">{{ section.title }}</a>
					{% if section.subsections %}
						<ul>
							{% for subsection in section.subsections %}
								{% set subsection = get_section(path=subsection) %}
								<li>
									<a href="{{ subsection.permalink }}">
										<span class="icon">
											{% if subsection.extra.icon %}
												{{ subsection.extra.icon | safe }}
											{% else %}
												&clubs;
											{% endif %}
										</span>
										{{ subsection.title }}
									</a>
								</li>
							{% endfor %}
						</ul>
					{% endif %}
				</li>
			{% endfor %}
		</ul>
	{% endif %}
{% endmacro %}

{% macro breadcrumbs(page) %}
	<div class="breadcrumbs">
		<div class="wrap">
			<a href="{{ config.base_url }}" class="home"><img src="{{ get_url(path="home.svg") }}" alt="Home"></a>
			<ul>
				{% for ancestor in page.ancestors %}
					{% if loop.first %}{% continue %}{% endif %}
					{% set section = get_section(path=ancestor) %}
					<li><a href="{{ section.permalink }}">{{ section.title }}</a></li>
				{% endfor %}
				<li><a href="{{ page.permalink }}">{{ page.title }}</a></li>
			</ul>
		</div>
	</div>
{% endmacro %}

{% macro list_posts(section) %}
	{% for post in section.pages %}
		<article>
			<div class="title">
				<a href="{{ post.permalink }}">{{ post.title }}</a>
			</div>
			{% if post.summary %}
				{{ post.summary | safe }}
			{% else %}
				{{ post.content | safe }}
			{% endif %}
			{% if post.date %}
				<div class="date">{{ post.date | date(format="%d.%m.%Y")}}</div>
			{% endif %}
		</article>
	{% endfor %}
{% endmacro %}

{% macro list_external_links(section) %}
	{% for post in section.pages %}
		<a href="
			{% if post.extra.link %}
				{{ post.extra.link }}
			{% else %}
				{{ post.permalink }}
			{% endif %}
		">
			<article
				{% if post.extra.color %}
					style="border-color: {{ post.extra.color }}"
				{% endif %}
			>
				<div class="title">
					{% if post.extra.logo %}
						<img src="{{ post.permalink ~ "../" ~ post.extra.logo }}" alt="{{ post.title }}">
					{% else %}
						{{ post.title }}
					{% endif %}
				</div>
				{{ post.content | safe }}
			</article>
		</a>
	{% endfor %}
{% endmacro %}
